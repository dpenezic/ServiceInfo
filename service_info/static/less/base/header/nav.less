@import "../../includes/mixins.less";
@import "../../includes/variables.less";

@side-nav-height: 48px;
@search-item-height: 56px;
@active-item-color: #ee6e73;
@active-item-hover: #e57373;

.side-nav, .side-nav.fixed {
  > li > .collapsible > .page-active,
  > li.page-active {
    background-color: @amber-lighten-1;
  }
  li {
    position: relative;

    &:not(.logo) {
      .flex-layout();
      .flex-direction(column);
    }
    form {
      /*
        Correcting for weird form behavior in the nav.
      */
      padding: 0 1rem;

      i {
        line-height: @search-item-height;
      }
      input {
        margin: 0;
        height: @search-item-height;
      }
      .input-field {
        margin: 0;

        input[type=search] ~ .material-icons {
          right: 0.75rem;
        }
      }
      label {
        height: 100%;
        top: 0;
        &.active {
          -webkit-transform: none!important;
          -moz-transform: none!important;
          -ms-transform: none!important;
          transform: none!important;
        }
      }
    }

    .overlay {
      height: 48px;
      position: absolute;
      left: 0;
      z-index: 2;

      width: 192px;

      .flex-layout();
      .align-items(center);
      a {
        .flex-layout();
        .align-items(center);
        padding-left: 30px;
        width: 100%;
        height: 100%;
        display: inline-flex;
      }
    }

    a {
      min-height: @side-nav-height;
      height: auto;
      line-height: 1;
      .flex-layout();
      .flex-direction(row);
      .align-items(center);

      &.collapsible-header {
        &:not(.active) + .collapsible-body .overlay {
          display: none;
        }

        .collapsible-header-wrap {
          .flex-layout();
          .flex-direction(row);
          .align-items(center);
          .justify-content(space-between);
          .flex(0, 1, 100%);
          flex-basis: 100% !important;

          i {
            .flex-layout();
            .align-items(center);
            .justify-content(center);
            height: 48px;
            width: 48px;
            background-color: rgba(255,255,255,0.75);
          }
        }
        padding: 0 0 0 30px;
        width: 100%;
        box-sizing: border-box;
        margin: 0;
        i {
          margin-right: 0;
        }
      }
    }

    &.active, &:hover {
      background-color: @amber-lighten-1;
    }

    &.page-active {
      > ul > li > .overlay {
        font-weight: 800;
      }
      > a {
        font-weight: 800;
      }
    }

    &.logo:hover {
      background-color: transparent;
    }
  }

  .collapsible {
    .overlay {
      width: 192px;
    }
    .collapsible {
      .overlay {
        width: 184px;
      }
      .collapsible {
        .overlay {
          width: 176px;
        }
        .collapsible {
          .overlay {
            width: 168px;
          }
        }
      }
    }
  }

  .collapsible-body {
    border-left: 3px solid rgba(0,0,0,0.15)!important;
    margin-left: 5px;
    background-color: @amber-lighten-3;
    .collapsible-body {
      background-color: @amber-lighten-4;
      .collapsible-body {
        background-color: @amber-lighten-5;
      }
    }

    .overlay {
      a {
        padding: 0 0 0 15px;
      }
    }

    li {
      &.active, &:hover {
        background-color: transparent;
      }
      a, a.collapsible-header {
        color: black !important;
        margin: 0;
      }
      .overlay {
        a {
          margin: 0;
        }
      }
    }
  }
}
